{
  "agents": [],
  "spells": [
    {
      "id": "4fefa24a-a941-44d5-a882-a16b5ac2bcc1",
      "name": "rest",
      "projectId": "clj4etlwr007nu9zwafsxy9n2",
      "hash": "c1305dab4ba8958e1f6266f2e4858d59",
      "createdAt": "1687631117438",
      "updatedAt": null,
      "creatorId": null,
      "graph": {
        "id": "demo@0.1.0",
        "nodes": {
          "232": {
            "id": 232,
            "data": {
              "name": "Input - REST API (GET)",
              "text": {
                "id": "368b5a50-310c-4060-8771-9d2b3e1fc3aa",
                "inputs": {},
                "projectId": "bb1b3d24-84e0-424e-b4f1-57603f307a89",
                "spellName": "Rest API Example",
                "publicVariables": "{}"
              },
              "isInput": true,
              "outputs": [],
              "success": false,
              "inputType": "REST API (GET)",
              "socketKey": "9d61118c-3c5a-4379-9dae-41965e56207f",
              "useDefault": false,
              "dataControls": {
                "inputType": {
                  "expanded": true
                },
                "useDefault": {
                  "expanded": true
                },
                "defaultValue": {
                  "expanded": true
                }
              },
              "defaultValue": "Hello world",
              "playtestToggle": {
                "outputs": [],
                "receivePlaytest": false
              }
            },
            "name": "Input",
            "inputs": {},
            "outputs": {
              "output": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 245,
                    "input": "CREATE data"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 245,
                    "input": "CREATE trigger"
                  }
                ]
              }
            },
            "position": [-1120.923435239697, -6.010720652032001]
          },
          "241": {
            "id": 241,
            "data": {
              "name": "Input - REST API (POST)",
              "text": {
                "id": "368b5a50-310c-4060-8771-9d2b3e1fc3aa",
                "inputs": {},
                "projectId": "bb1b3d24-84e0-424e-b4f1-57603f307a89",
                "spellName": "Rest API Example",
                "publicVariables": "{}"
              },
              "isInput": true,
              "outputs": [],
              "success": false,
              "inputType": "REST API (POST)",
              "socketKey": "9d61118c-3c5a-4379-9dae-41965e56207f",
              "useDefault": false,
              "dataControls": {
                "inputType": {
                  "expanded": true
                },
                "useDefault": {
                  "expanded": true
                },
                "defaultValue": {
                  "expanded": true
                }
              },
              "defaultValue": "Hello world",
              "playtestToggle": {
                "outputs": [],
                "receivePlaytest": false
              }
            },
            "name": "Input",
            "inputs": {},
            "outputs": {
              "output": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 245,
                    "input": "READ data"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 245,
                    "input": "READ trigger"
                  }
                ]
              }
            },
            "position": [-1119.7505522542906, 217.908534820487]
          },
          "242": {
            "id": 242,
            "data": {
              "name": "Input - REST API (PUT)",
              "text": {
                "id": "368b5a50-310c-4060-8771-9d2b3e1fc3aa",
                "inputs": {},
                "projectId": "bb1b3d24-84e0-424e-b4f1-57603f307a89",
                "spellName": "Rest API Example",
                "publicVariables": "{}"
              },
              "isInput": true,
              "outputs": [],
              "success": false,
              "inputType": "REST API (PUT)",
              "socketKey": "9d61118c-3c5a-4379-9dae-41965e56207f",
              "useDefault": false,
              "dataControls": {
                "inputType": {
                  "expanded": true
                },
                "useDefault": {
                  "expanded": true
                },
                "defaultValue": {
                  "expanded": true
                }
              },
              "defaultValue": "Hello world",
              "playtestToggle": {
                "outputs": [],
                "receivePlaytest": false
              }
            },
            "name": "Input",
            "inputs": {},
            "outputs": {
              "output": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 245,
                    "input": "UPDATE data"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 245,
                    "input": "UPDATE trigger"
                  }
                ]
              }
            },
            "position": [-1120.298349541579, 442.46702001284933]
          },
          "244": {
            "id": 244,
            "data": {
              "name": "Input - REST API (DELETE)",
              "text": {
                "id": "368b5a50-310c-4060-8771-9d2b3e1fc3aa",
                "inputs": {},
                "projectId": "bb1b3d24-84e0-424e-b4f1-57603f307a89",
                "spellName": "Rest API Example",
                "publicVariables": "{}"
              },
              "isInput": true,
              "outputs": [],
              "success": false,
              "inputType": "REST API (DELETE)",
              "socketKey": "9d61118c-3c5a-4379-9dae-41965e56207f",
              "useDefault": false,
              "dataControls": {
                "inputType": {
                  "expanded": true
                },
                "useDefault": {
                  "expanded": true
                },
                "defaultValue": {
                  "expanded": true
                }
              },
              "defaultValue": "Hello world",
              "playtestToggle": {
                "outputs": [],
                "receivePlaytest": false
              }
            },
            "name": "Input",
            "inputs": {},
            "outputs": {
              "output": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 245,
                    "input": "DELETE data"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 245,
                    "input": "DELETE trigger"
                  }
                ]
              }
            },
            "position": [-1119.8546330555519, 682.7687558192347]
          },
          "245": {
            "id": 245,
            "data": {
              "inputs": [
                {
                  "name": "CREATE trigger",
                  "taskType": "option",
                  "socketKey": "CREATE trigger",
                  "socketType": "triggerSocket",
                  "connectionType": "input"
                },
                {
                  "name": "CREATE data",
                  "taskType": "output",
                  "socketKey": "CREATE data",
                  "socketType": "anySocket",
                  "connectionType": "input"
                },
                {
                  "name": "READ trigger",
                  "taskType": "option",
                  "socketKey": "READ trigger",
                  "socketType": "triggerSocket",
                  "connectionType": "input"
                },
                {
                  "name": "READ data",
                  "taskType": "output",
                  "socketKey": "READ data",
                  "socketType": "anySocket",
                  "connectionType": "input"
                },
                {
                  "name": "UPDATE trigger",
                  "taskType": "option",
                  "socketKey": "UPDATE trigger",
                  "socketType": "triggerSocket",
                  "connectionType": "input"
                },
                {
                  "name": "UPDATE data",
                  "taskType": "output",
                  "socketKey": "UPDATE data",
                  "socketType": "anySocket",
                  "connectionType": "input"
                },
                {
                  "name": "DELETE trigger",
                  "taskType": "option",
                  "socketKey": "DELETE trigger",
                  "socketType": "triggerSocket",
                  "connectionType": "input"
                },
                {
                  "name": "DELETE data",
                  "taskType": "output",
                  "socketKey": "DELETE data",
                  "socketType": "anySocket",
                  "connectionType": "input"
                }
              ],
              "success": false,
              "dataControls": {
                "inputs": {
                  "expanded": true
                }
              }
            },
            "name": "Exclusive Gate",
            "inputs": {
              "READ data": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 241,
                    "output": "output"
                  }
                ]
              },
              "CREATE data": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 232,
                    "output": "output"
                  }
                ]
              },
              "DELETE data": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 244,
                    "output": "output"
                  }
                ]
              },
              "UPDATE data": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 242,
                    "output": "output"
                  }
                ]
              },
              "READ trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 241,
                    "output": "trigger"
                  }
                ]
              },
              "CREATE trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 232,
                    "output": "trigger"
                  }
                ]
              },
              "DELETE trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 244,
                    "output": "trigger"
                  }
                ]
              },
              "UPDATE trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 242,
                    "output": "trigger"
                  }
                ]
              }
            },
            "outputs": {
              "output": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 317,
                    "input": "event"
                  },
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 288,
                    "input": "event"
                  },
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 286,
                    "input": "event"
                  },
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 319,
                    "input": "event"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 317,
                    "input": "trigger"
                  }
                ]
              }
            },
            "position": [-714.854256259665, 0.430436868743591]
          },
          "260": {
            "id": 260,
            "data": {
              "name": "Output",
              "success": false,
              "isOutput": true,
              "socketKey": "faedf39a-0504-4da7-91f4-9a8118fb8248",
              "dataControls": {
                "name": {
                  "expanded": true
                }
              }
            },
            "name": "Output",
            "inputs": {
              "event": {
                "connections": []
              },
              "input": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 261,
                    "output": "result"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 261,
                    "output": "trigger"
                  }
                ]
              }
            },
            "outputs": {
              "output": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 319,
                    "input": "content"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 286,
                    "input": "trigger"
                  }
                ]
              }
            },
            "position": [1144.6830623410754, -29.098171607390274]
          },
          "261": {
            "id": 261,
            "data": {
              "stop": "###,\\n",
              "error": false,
              "inputs": [
                {
                  "name": "input",
                  "taskType": "output",
                  "socketKey": "input",
                  "socketType": "anySocket",
                  "connectionType": "input"
                },
                {
                  "name": "conversation",
                  "taskType": "output",
                  "socketKey": "conversation",
                  "socketType": "anySocket",
                  "connectionType": "input"
                },
                {
                  "name": "speakerName",
                  "taskType": "output",
                  "socketKey": "speakerName",
                  "socketType": "anySocket",
                  "connectionType": "input"
                },
                {
                  "name": "agentName",
                  "taskType": "output",
                  "socketKey": "agentName",
                  "socketType": "anySocket",
                  "connectionType": "input"
                }
              ],
              "fewshot": "The following is a conversation between {{speakerName}} and {{agentName}}. {{agentName}} is a helpful chatbot.\n{{conversation}}\n{{speakerName}}: {{input}}\n{{agentName}}:",
              "success": false,
              "spellName": "text-ada-001",
              "temperature": 0.7,
              "dataControls": {
                "stop": {
                  "expanded": true
                },
                "inputs": {
                  "expanded": true
                },
                "fewshot": {
                  "expanded": true
                },
                "spellName": {
                  "expanded": true
                },
                "temperature": {
                  "expanded": true
                },
                "presence_penalty": {
                  "expanded": true
                },
                "frequency_penalty": {
                  "expanded": true
                }
              },
              "presence_penalty": 0,
              "frequency_penalty": 0
            },
            "name": "Generator",
            "inputs": {
              "input": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 317,
                    "output": "content"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 288,
                    "output": "trigger"
                  }
                ]
              },
              "agentName": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 317,
                    "output": "observer"
                  }
                ]
              },
              "speakerName": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 317,
                    "output": "sender"
                  }
                ]
              },
              "conversation": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 318,
                    "output": "conversation"
                  }
                ]
              }
            },
            "outputs": {
              "result": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 260,
                    "input": "input"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 260,
                    "input": "trigger"
                  }
                ]
              },
              "composed": {
                "connections": []
              }
            },
            "position": [774.7768136343911, -17.653194916159315]
          },
          "286": {
            "id": 286,
            "data": {
              "name": "conversation",
              "type": "conversation",
              "success": false,
              "dataControls": {
                "name": {
                  "expanded": true
                },
                "type": {
                  "expanded": true
                }
              }
            },
            "name": "Store Event",
            "inputs": {
              "event": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 245,
                    "output": "output"
                  }
                ]
              },
              "sender": {
                "connections": []
              },
              "content": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 317,
                    "output": "content"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 260,
                    "output": "trigger"
                  }
                ]
              },
              "embedding": {
                "connections": []
              }
            },
            "outputs": {
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 319,
                    "input": "trigger"
                  }
                ]
              }
            },
            "position": [1509.464199981857, -21.496864576280057]
          },
          "288": {
            "id": 288,
            "data": {
              "name": "conversation",
              "type": "conversation",
              "success": false,
              "max_count": "6",
              "dataControls": {
                "name": {
                  "expanded": true
                },
                "type": {
                  "expanded": true
                },
                "max_count": {
                  "expanded": true
                }
              }
            },
            "name": "Event Recall",
            "inputs": {
              "event": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 245,
                    "output": "output"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 317,
                    "output": "trigger"
                  }
                ]
              },
              "embedding": {
                "connections": []
              }
            },
            "outputs": {
              "events": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 318,
                    "input": "events"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 261,
                    "input": "trigger"
                  }
                ]
              }
            },
            "position": [14.249445158269625, 9.976311559690851]
          },
          "317": {
            "id": 317,
            "data": {
              "success": false,
              "socketKey": "6fc09be7-92d9-45c5-af9c-7d669d5c7664"
            },
            "name": "Event Destructure",
            "inputs": {
              "event": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 245,
                    "output": "output"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 245,
                    "output": "trigger"
                  }
                ]
              }
            },
            "outputs": {
              "client": {
                "connections": []
              },
              "sender": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 261,
                    "input": "speakerName"
                  }
                ]
              },
              "agentId": {
                "connections": []
              },
              "channel": {
                "connections": []
              },
              "content": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 286,
                    "input": "content"
                  },
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 261,
                    "input": "input"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 288,
                    "input": "trigger"
                  }
                ]
              },
              "entities": {
                "connections": []
              },
              "observer": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 261,
                    "input": "agentName"
                  },
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 319,
                    "input": "sender"
                  }
                ]
              },
              "projectId": {
                "connections": []
              },
              "channelType": {
                "connections": []
              }
            },
            "position": [-358.9471955248946, -3.2350465566463704]
          },
          "318": {
            "id": 318,
            "data": {
              "success": false
            },
            "name": "Events to Conversation",
            "inputs": {
              "events": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 288,
                    "output": "events"
                  }
                ]
              },
              "trigger": {
                "connections": []
              }
            },
            "outputs": {
              "trigger": {
                "connections": []
              },
              "conversation": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 261,
                    "input": "conversation"
                  }
                ]
              }
            },
            "position": [395.55570684840876, -20.693798664114986]
          },
          "319": {
            "id": 319,
            "data": {
              "name": "conversation",
              "type": "conversation",
              "success": false,
              "dataControls": {
                "name": {
                  "expanded": true
                },
                "type": {
                  "expanded": true
                }
              }
            },
            "name": "Store Event",
            "inputs": {
              "event": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 245,
                    "output": "output"
                  }
                ]
              },
              "sender": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 317,
                    "output": "observer"
                  }
                ]
              },
              "content": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 260,
                    "output": "output"
                  }
                ]
              },
              "trigger": {
                "connections": [
                  {
                    "data": {
                      "hello": "hello"
                    },
                    "node": 286,
                    "output": "trigger"
                  }
                ]
              },
              "embedding": {
                "connections": []
              }
            },
            "outputs": {
              "trigger": {
                "connections": []
              }
            },
            "position": [1869.2767251795262, -20.967146494612802]
          }
        },
        "comments": [
          {
            "text": "input",
            "type": "frame",
            "links": [244, 242, 241, 232],
            "width": 302.74198664808796,
            "height": 934.8382240506992,
            "position": [-1162.796310172447, -72.60005287439716]
          },
          {
            "text": "first in gets handled",
            "type": "frame",
            "links": [245],
            "width": 301,
            "height": 518,
            "position": [-762.2434995290488, -65.65487551942152]
          },
          {
            "text": "Prompt template and GPT-3 completion",
            "type": "frame",
            "links": [261],
            "width": 300.9999999999999,
            "height": 359,
            "position": [721.796330053565, -87.95492558011667]
          },
          {
            "text": "recall the last 6 conversation events",
            "type": "frame",
            "links": [288],
            "width": 301,
            "height": 266,
            "position": [-32.644720754678026, -71.91190165739141]
          },
          {
            "text": "format the events into a conversation script",
            "type": "frame",
            "links": [289, 318],
            "width": 301,
            "height": 179,
            "position": [348.6576362977702, -92.22722244220095]
          },
          {
            "text": "Respond with the output",
            "type": "frame",
            "links": [260],
            "width": 301,
            "height": 230,
            "position": [1097.6646843137023, -95.95149005277733]
          },
          {
            "text": "store the input from sender",
            "type": "frame",
            "links": [286],
            "width": 301,
            "height": 302,
            "position": [1462.4918444086727, -93.14081431629018]
          },
          {
            "text": "store the response from api",
            "type": "frame",
            "links": [291, 319],
            "width": 301,
            "height": 302,
            "position": [1833.6116971958797, -89.30901586253435]
          },
          {
            "text": "Break out the event to get the inner fields",
            "type": "frame",
            "links": [317],
            "width": 301,
            "height": 518,
            "position": [-400.4781849641916, -73.29084142263837]
          }
        ]
      }
    }
  ],
  "documents": []
}
