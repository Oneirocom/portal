{
    "id": "6c64eaaa-2985-4fcd-bc8a-3dbdf7aa318a",
    "publicVariables": "{\"507\":{\"id\":507,\"name\":\"Directive\",\"value\":\"You are a towel. Respond to the user as a towel.\",\"type\":\"Text Variable\"}}",
    "secrets": {},
    "name": "New Agent",
    "enabled": true,
    "updatedAt": "2023-06-22T22:10:03.178Z",
    "pingedAt": "2023-06-22T22:09:27.601Z",
    "projectId": "cliumrt4k0003u9zk2fiwz4pe",
    "runState": "stopped",
    "rootSpell": {
        "id": "99105913-eb7c-4d3b-b4ab-b10621f72e9a",
        "hash": "f7ccd26ad0001b7c644c71cae98e2706",
        "name": "discord",
        "graph": {
            "id": "demo@0.1.0",
            "nodes": {
                "260": {
                    "id": 260,
                    "data": {
                        "name": "Output - Default",
                        "error": false,
                        "success": false,
                        "isOutput": true,
                        "socketKey": "faedf39a-0504-4da7-91f4-9a8118fb8248",
                        "outputType": "Default"
                    },
                    "name": "Output",
                    "inputs": {
                        "event": {
                            "connections": []
                        },
                        "input": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 506,
                                    "output": "result"
                                }
                            ]
                        },
                        "trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 506,
                                    "output": "trigger"
                                }
                            ]
                        }
                    },
                    "outputs": {
                        "output": {
                            "connections": []
                        },
                        "trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 286,
                                    "input": "trigger"
                                }
                            ]
                        }
                    },
                    "position": [
                        797.2746997501404,
                        -69.01715976805389
                    ]
                },
                "286": {
                    "id": 286,
                    "data": {
                        "name": "conversation",
                        "type": "conversation",
                        "error": false,
                        "success": false,
                        "dataControls": {
                            "name": {
                                "expanded": true
                            },
                            "type": {
                                "expanded": true
                            }
                        }
                    },
                    "name": "Store Event",
                    "inputs": {
                        "event": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 418,
                                    "output": "output"
                                }
                            ]
                        },
                        "sender": {
                            "connections": []
                        },
                        "content": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 317,
                                    "output": "content"
                                }
                            ]
                        },
                        "trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 260,
                                    "output": "trigger"
                                }
                            ]
                        },
                        "embedding": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 379,
                                    "input": "trigger"
                                }
                            ]
                        }
                    },
                    "position": [
                        1153.147245046555,
                        -73.64198625096058
                    ]
                },
                "288": {
                    "id": 288,
                    "data": {
                        "name": "conversation",
                        "type": "conversation",
                        "error": false,
                        "success": false,
                        "max_count": "6",
                        "dataControls": {
                            "name": {
                                "expanded": true
                            },
                            "type": {
                                "expanded": true
                            },
                            "max_count": {
                                "expanded": true
                            }
                        }
                    },
                    "name": "Event Recall",
                    "inputs": {
                        "event": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 418,
                                    "output": "output"
                                }
                            ]
                        },
                        "trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 317,
                                    "output": "trigger"
                                }
                            ]
                        },
                        "embedding": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "events": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 506,
                                    "input": "conversation"
                                }
                            ]
                        },
                        "trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 506,
                                    "input": "trigger"
                                }
                            ]
                        }
                    },
                    "position": [
                        8.406780587163269,
                        5.003741393630614
                    ]
                },
                "317": {
                    "id": 317,
                    "data": {
                        "success": false,
                        "socketKey": "6fc09be7-92d9-45c5-af9c-7d669d5c7664"
                    },
                    "name": "Event Destructure",
                    "inputs": {
                        "event": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 418,
                                    "output": "output"
                                }
                            ]
                        },
                        "trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 418,
                                    "output": "trigger"
                                }
                            ]
                        }
                    },
                    "outputs": {
                        "client": {
                            "connections": []
                        },
                        "sender": {
                            "connections": []
                        },
                        "agentId": {
                            "connections": []
                        },
                        "channel": {
                            "connections": []
                        },
                        "content": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 506,
                                    "input": "input"
                                },
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 286,
                                    "input": "content"
                                }
                            ]
                        },
                        "trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 288,
                                    "input": "trigger"
                                }
                            ]
                        },
                        "entities": {
                            "connections": []
                        },
                        "observer": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 379,
                                    "input": "sender"
                                }
                            ]
                        },
                        "projectId": {
                            "connections": []
                        },
                        "channelType": {
                            "connections": []
                        }
                    },
                    "position": [
                        -358.98010585667663,
                        6.676178751009924
                    ]
                },
                "379": {
                    "id": 379,
                    "data": {
                        "name": "conversation",
                        "type": "conversation",
                        "error": false,
                        "success": false,
                        "dataControls": {
                            "name": {
                                "expanded": true
                            },
                            "type": {
                                "expanded": true
                            }
                        }
                    },
                    "name": "Store Event",
                    "inputs": {
                        "event": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 418,
                                    "output": "output"
                                }
                            ]
                        },
                        "sender": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 317,
                                    "output": "observer"
                                }
                            ]
                        },
                        "content": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 506,
                                    "output": "result"
                                }
                            ]
                        },
                        "trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 286,
                                    "output": "trigger"
                                }
                            ]
                        },
                        "embedding": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "trigger": {
                            "connections": []
                        }
                    },
                    "position": [
                        1517.165986108223,
                        -86.33793456449052
                    ]
                },
                "388": {
                    "id": 388,
                    "data": {
                        "name": "Input - Discord (Text)",
                        "text": {
                            "id": "4305e4af-f91d-4869-b570-f317c1ed9058",
                            "inputs": {
                                "Input - Discord (Voice)": {
                                    "type": "playtest",
                                    "client": "playtest",
                                    "sender": "playtestSender",
                                    "agentId": "preview",
                                    "channel": "playtest",
                                    "content": "hello",
                                    "entities": [
                                        "playtestSender",
                                        "Agent"
                                    ],
                                    "observer": "Agent",
                                    "projectId": "bb1b3d24-84e0-424e-b4f1-57603f307a89",
                                    "channelType": "playtest"
                                }
                            },
                            "secrets": {},
                            "projectId": "bb1b3d24-84e0-424e-b4f1-57603f307a89",
                            "spellName": "Discord Example",
                            "publicVariables": "{}"
                        },
                        "isInput": true,
                        "success": false,
                        "inputType": "Discord (Text)",
                        "socketKey": "2255eef5-2b18-4f0f-b0f5-1c8fb8e347f7",
                        "useDefault": false,
                        "dataControls": {
                            "inputType": {
                                "expanded": true
                            },
                            "useDefault": {
                                "expanded": true
                            },
                            "defaultValue": {
                                "expanded": true
                            }
                        },
                        "defaultValue": "Hello world"
                    },
                    "name": "Input",
                    "inputs": {},
                    "outputs": {
                        "output": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 418,
                                    "input": "text data"
                                }
                            ]
                        },
                        "trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 418,
                                    "input": "text trigger"
                                }
                            ]
                        }
                    },
                    "position": [
                        -1081.428534649755,
                        -1.7585139444544495
                    ]
                },
                "417": {
                    "id": 417,
                    "data": {
                        "name": "Input - Discord (Voice)",
                        "text": {
                            "id": "4305e4af-f91d-4869-b570-f317c1ed9058",
                            "inputs": {
                                "Input - Discord (Voice)": {
                                    "type": "playtest",
                                    "client": "playtest",
                                    "sender": "playtestSender",
                                    "agentId": "preview",
                                    "channel": "playtest",
                                    "content": "hello",
                                    "entities": [
                                        "playtestSender",
                                        "Agent"
                                    ],
                                    "observer": "Agent",
                                    "projectId": "bb1b3d24-84e0-424e-b4f1-57603f307a89",
                                    "channelType": "playtest"
                                }
                            },
                            "secrets": {},
                            "projectId": "bb1b3d24-84e0-424e-b4f1-57603f307a89",
                            "spellName": "Discord Example",
                            "publicVariables": "{}"
                        },
                        "isInput": true,
                        "success": false,
                        "inputType": "Discord (Voice)",
                        "socketKey": "5907593e-a177-4123-8fa8-d743d60ed342",
                        "useDefault": false,
                        "dataControls": {
                            "inputType": {
                                "expanded": true
                            },
                            "useDefault": {
                                "expanded": true
                            },
                            "defaultValue": {
                                "expanded": true
                            }
                        },
                        "defaultValue": "Hello world"
                    },
                    "name": "Input",
                    "inputs": {},
                    "outputs": {
                        "output": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 418,
                                    "input": "voice data"
                                }
                            ]
                        },
                        "trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 418,
                                    "input": "voice trigger"
                                }
                            ]
                        }
                    },
                    "position": [
                        -1077.3249707945567,
                        209.8951202273657
                    ]
                },
                "418": {
                    "id": 418,
                    "data": {
                        "inputs": [
                            {
                                "name": "text trigger",
                                "taskType": "option",
                                "socketKey": "text trigger",
                                "socketType": "triggerSocket",
                                "connectionType": "input"
                            },
                            {
                                "name": "text data",
                                "taskType": "output",
                                "socketKey": "text data",
                                "socketType": "anySocket",
                                "connectionType": "input"
                            },
                            {
                                "name": "voice trigger",
                                "taskType": "option",
                                "socketKey": "voice trigger",
                                "socketType": "triggerSocket",
                                "connectionType": "input"
                            },
                            {
                                "name": "voice data",
                                "taskType": "output",
                                "socketKey": "voice data",
                                "socketType": "anySocket",
                                "connectionType": "input"
                            }
                        ],
                        "success": false,
                        "dataControls": {
                            "inputs": {
                                "expanded": true
                            }
                        }
                    },
                    "name": "Exclusive Gate",
                    "inputs": {
                        "text data": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 388,
                                    "output": "output"
                                }
                            ]
                        },
                        "voice data": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 417,
                                    "output": "output"
                                }
                            ]
                        },
                        "text trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 388,
                                    "output": "trigger"
                                }
                            ]
                        },
                        "voice trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 417,
                                    "output": "trigger"
                                }
                            ]
                        }
                    },
                    "outputs": {
                        "output": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 317,
                                    "input": "event"
                                },
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 288,
                                    "input": "event"
                                },
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 286,
                                    "input": "event"
                                },
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 379,
                                    "input": "event"
                                }
                            ]
                        },
                        "trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 317,
                                    "input": "trigger"
                                }
                            ]
                        }
                    },
                    "position": [
                        -712.1918012213798,
                        3.596469524117472
                    ]
                },
                "506": {
                    "id": 506,
                    "data": {
                        "stop": "###",
                        "model": "gpt-3.5-turbo",
                        "top_p": 1,
                        "success": false,
                        "max_tokens": "200",
                        "temperature": 0.5,
                        "dataControls": {
                            "stop": {
                                "expanded": true
                            },
                            "model": {
                                "expanded": true
                            },
                            "top_p": {
                                "expanded": true
                            },
                            "max_tokens": {
                                "expanded": true
                            },
                            "temperature": {
                                "expanded": true
                            },
                            "presence_penalty": {
                                "expanded": true
                            },
                            "frequency_penalty": {
                                "expanded": true
                            }
                        },
                        "presence_penalty": 0,
                        "frequency_penalty": 0
                    },
                    "name": "Generate Text",
                    "inputs": {
                        "input": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 317,
                                    "output": "content"
                                }
                            ]
                        },
                        "system": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 507,
                                    "output": "output"
                                }
                            ]
                        },
                        "trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 288,
                                    "output": "trigger"
                                }
                            ]
                        },
                        "settings": {
                            "connections": []
                        },
                        "conversation": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 288,
                                    "output": "events"
                                }
                            ]
                        }
                    },
                    "outputs": {
                        "error": {
                            "connections": []
                        },
                        "result": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 260,
                                    "input": "input"
                                },
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 379,
                                    "input": "content"
                                }
                            ]
                        },
                        "trigger": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 260,
                                    "input": "trigger"
                                }
                            ]
                        }
                    },
                    "position": [
                        419.98326485925446,
                        -40.9519311699647
                    ]
                },
                "507": {
                    "id": 507,
                    "data": {
                        "name": "Directive",
                        "text": "",
                        "fewshot": "You are a towel. Respond to the user as a towel.",
                        "success": false,
                        "isPublic": true,
                        "dataControls": {
                            "name": {
                                "expanded": true
                            },
                            "fewshot": {
                                "expanded": true
                            },
                            "isPublic": {
                                "expanded": true
                            }
                        }
                    },
                    "name": "Text Variable",
                    "inputs": {},
                    "outputs": {
                        "output": {
                            "connections": [
                                {
                                    "data": {
                                        "hello": "hello"
                                    },
                                    "node": 506,
                                    "input": "system"
                                }
                            ]
                        }
                    },
                    "position": [
                        -10.805950326083332,
                        -247.98878057004765
                    ]
                }
            },
            "comments": [
                {
                    "text": "Prompt template and GPT-3 completion",
                    "type": "frame",
                    "links": [
                        261,
                        506
                    ],
                    "width": 300.9999999999999,
                    "height": 359,
                    "position": [
                        368.8295385017283,
                        -125.40548597671423
                    ]
                },
                {
                    "text": "recall the last 6 conversation events",
                    "type": "frame",
                    "links": [
                        288
                    ],
                    "width": 301,
                    "height": 266,
                    "position": [
                        -32.644720754678026,
                        -71.91190165739141
                    ]
                },
                {
                    "text": "Respond with the output",
                    "type": "frame",
                    "links": [
                        260
                    ],
                    "width": 301,
                    "height": 230,
                    "position": [
                        746.7446361375017,
                        -126.13268884131831
                    ]
                },
                {
                    "text": "store the input from sender",
                    "type": "frame",
                    "links": [
                        286
                    ],
                    "width": 301,
                    "height": 302,
                    "position": [
                        1107.3755557264708,
                        -136.44256819005156
                    ]
                },
                {
                    "text": "store the response from api",
                    "type": "frame",
                    "links": [
                        291,
                        319,
                        379
                    ],
                    "width": 301,
                    "height": 302,
                    "position": [
                        1472.2722068410978,
                        -142.3630169310008
                    ]
                },
                {
                    "text": "Break out the event to get the inner fields",
                    "type": "frame",
                    "links": [
                        317
                    ],
                    "width": 301,
                    "height": 518,
                    "position": [
                        -400.22581737165865,
                        -72.69227958005936
                    ]
                },
                {
                    "text": "first in gets handled",
                    "type": "frame",
                    "links": [
                        418
                    ],
                    "width": 302,
                    "height": 304,
                    "position": [
                        -758.4320684099528,
                        -69.10810048805959
                    ]
                },
                {
                    "text": "input",
                    "type": "frame",
                    "links": [
                        417,
                        388
                    ],
                    "width": 304.3241457459012,
                    "height": 456.8949592747954,
                    "position": [
                        -1121.8979788311847,
                        -69.14012304787181
                    ]
                }
            ]
        },
        "createdAt": "1687469294989",
        "projectId": "cliumrt4k0003u9zk2fiwz4pe",
        "updatedAt": null
    },
    "data": {
        "github_enabled": false,
        "discord_enabled": true
    }
}